(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[6],{148:function(e,t,a){},149:function(e,t,a){e.exports=a.p+"static/media/logo.ba577c9d.png"},283:function(e,t,a){"use strict";a.r(t);var n=a(87),r=a.n(n),c=a(88),s=a(271),o=a(0),i=a.n(o),m=a(279),u=a(278),l=a(281),p=a(270),f=a(284),d=a(285),g=a(286),b=a(2),h=(a(148),a(149)),v=a.n(h),y=a(23),E=a(20),k=a(21),w=a(150),O=a.n(w),j=a(282),N=(O.a.stringify,O.a.parse,function(e){if(e.status>=200&&e.status<300)return e;throw j.b.error("\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25,".concat(e.status)),new Error(e.statusText)}),x=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.clone().json();case 2:if(1===(a=e.sent).code){e.next=8;break}throw j.b.error("".concat(a.msg,"\uff0c code:").concat(a.code)),new Error(a.msg);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){return e instanceof TypeError&&j.b.error("\u7f51\u7edc\u8bf7\u6c42\u5931\u8d25\u5566\uff01".concat(e)),{code:-1,data:!1}},S=new(function(){function e(){Object(E.a)(this,e)}return Object(k.a)(e,[{key:"post",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({method:"POST"},n);if(r.body=JSON.stringify(a),"FormData"===r.type&&"undefined"!==r.body){for(var c=new FormData,s=0,o=Object.keys(r.body);s<o.length;s++){var i=o[s];c.append(i,r.body[i])}r.body=c}return e.staticFetch(t,r)}},{key:"put",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({method:"PUT"},n);return r.body=JSON.stringify(a),e.staticFetch(t,r)}},{key:"get",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({method:"GET"},a);return e.staticFetch(t,n)}}],[{key:"staticFetch",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",a=s.length>1&&void 0!==s[1]?s[1]:{},(n={credentials:"include",mode:"cors",headers:{token:null,Authorization:sessionStorage.getItem("access_token")}}).headers["Content-Type"]="application/json; charset=utf-8",c=Object(y.a)(Object(y.a)({},n),a),e.abrupt("return",fetch(t,c).then(N).then(x).then((function(e){return e.json()})).catch(T));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),F=(S.post,S.get,S.put,S);function I(e){return q.apply(this,arguments)}function q(){return(q=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F.post("/api/login",t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=a(166),J=a.n(P),C="access-token";function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;return J.a.set(t,e)}var A=function(e){var t=e.name,a=e.content,n={dataType:typeof a,content:a,datetime:(new Date).getTime()};window.sessionStorage.setItem(t,JSON.stringify(n))},U=a(167),z=a.n(U);t.default=function(){var e=Object(b.g)();Object(o.useEffect)((function(){}));var t=m.a.TabPane,a=Object(o.useState)("1"),n=Object(s.a)(a,2),h=n[0],y=(n[1],Object(o.useState)("")),E=Object(s.a)(y,2),k=E[0],w=E[1],O=Object(o.useState)(""),j=Object(s.a)(O,2),N=j[0],x=j[1],T=function(){var t=Object(c.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I({name:k,pwd:z()(N)});case 2:if(1===(n=t.sent).code){t.next=5;break}return t.abrupt("return");case 5:D(n.data),A({name:"access-token",content:n.data}),e.push("/home");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:"page"},i.a.createElement("div",{className:"bg-img"},i.a.createElement("div",{className:"m-bg-mask m-bg-mask0"}),i.a.createElement("div",{className:"m-bg-mask m-bg-mask1"}),i.a.createElement("div",{className:"m-bg-mask m-bg-mask2"}),i.a.createElement("div",{className:"m-bg-mask m-bg-mask3"})),i.a.createElement("div",{className:"form-box"},i.a.createElement("div",{className:"login-logo"},i.a.createElement("img",{src:v.a,alt:""})),i.a.createElement(m.a,{defaultActiveKey:h,tabPosition:"top",onChange:function(){},className:"tabs",animated:!0},i.a.createElement(t,{tab:"\u767b\u5f55",key:"1"},i.a.createElement(u.a,{name:"login",className:"login-form",onFinish:T},i.a.createElement(u.a.Item,{name:"user",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\uff01"}]},i.a.createElement(l.a,{onChange:function(e){w(e.target.value)},prefix:i.a.createElement(f.a,{className:"site-form-item-icon"}),placeholder:"\u7528\u6237\u540d"})),i.a.createElement(u.a.Item,{name:"pwd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]},i.a.createElement(l.a,{onChange:function(e){x(e.target.value)},prefix:i.a.createElement(d.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801"})),i.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b \u5f55"))),i.a.createElement(t,{tab:"\u6ce8\u518c",key:"2"},i.a.createElement(u.a,{name:"login",className:"register-form",onFinish:function(t){console.log("Received values of form: ",t),e.push("/home")}},i.a.createElement(u.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},i.a.createElement(l.a,{prefix:i.a.createElement(f.a,{className:"site-form-item-icon"}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"})),i.a.createElement(u.a.Item,{name:"emil",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}]},i.a.createElement(l.a,{prefix:i.a.createElement(g.a,{className:"site-form-item-icon"}),placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"})),i.a.createElement(u.a.Item,{name:"pwd",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}]},i.a.createElement(l.a,{prefix:i.a.createElement(d.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"})),i.a.createElement(u.a.Item,{name:"surePwd",rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}]},i.a.createElement(l.a,{prefix:i.a.createElement(d.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u786e\u8ba4\u5bc6\u7801"})),i.a.createElement(p.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u6ce8 \u518c"))))))}}}]);
//# sourceMappingURL=6.b3545a73.chunk.js.map